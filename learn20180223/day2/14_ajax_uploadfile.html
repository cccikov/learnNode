<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>文件上传1</title>
    <script type="text/javascript" src="/axios.min.js"></script>
</head>

<body>
    <!-- 这个form提交直接本地打开就可以，因为不是ajax而是表单提交，所以不用服务器环境。 但是涉及文件上传文件要加上 enctype 属性-->
    <form action="/upload" enctype="multipart/form-data" method="post">
        <p>
            名字：
            <label for="name">
                <input type="text" name="name" value="" placeholder="请输入名字">
            </label>
        </p>
        <p>
            年龄：
            <label for="age">
                <input type="text" name="age" value="" placeholder="请输入年龄"> 岁
            </label>
        </p>
        <p>
            性别：
            <label>
                <input type="radio" name="gender" value="male" checked=""> 男
            </label>
            <label>
                <input type="radio" name="gender" value="female"> 女
            </label>
        </p>
        <p>
            文件：
            <label>
                <input type="file" name="file">
            </label>
        </p>
        <p><button>提交</button></p>
    </form>
    <p><button onclick="fn()">axios 请求</button></p>
    <p><button onclick="fn2()">axios 请求 formData</button></p>
    <script type="text/javascript">
    function fn() {
        axios({
            url: "/upload",
            method: "post",
            data: {
                "name": "ccc",
                age: 18
            }
        });
    }

    function fn2() {
        let formData = new FormData();
        formData.append('test', "test");
        formData.append('name', document.getElementsByName("name")[0].value);
        formData.append('age', document.getElementsByName("age")[0].value);
        formData.append('file', document.getElementsByName("file")[0].files[0]);

        axios({
            url: "/upload",
            method: "post",
            data: formData,
            headers: {
                "Content-Type": "multipart/form-data;"
            }
        });

    }
    </script>
</body>

</html>